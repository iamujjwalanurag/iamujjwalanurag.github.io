<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Google-Safe Auto Blog Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Daily auto-published SEO blogs using Google Trends.">

<style>
body{
  font-family: Georgia, serif;
  background:#f4f4f4;
  margin:0;
}
header{
  background:#111;
  color:#fff;
  padding:20px;
  text-align:center;
}
.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}
.post{
  background:#fff;
  padding:25px;
  margin-bottom:40px;
  border-radius:6px;
}
h1,h2{
  color:#111;
}
small{
  color:gray;
}
.ad{
  background:#eee;
  padding:15px;
  text-align:center;
  margin:25px 0;
  font-size:14px;
}
button{
  padding:10px 15px;
  border:none;
  background:#111;
  color:#fff;
  cursor:pointer;
  border-radius:4px;
}
</style>
</head>
<body>

<header>
  <h1>Daily Voice Blog</h1>
  <p>Google-safe | Auto-published | SEO-ready</p>
</header>

<div class="container">
  <button onclick="loadTrends()">ðŸ”„ Run Daily Auto Publish</button>
  <p id="status"></p>
  <div id="posts"></div>
</div>

<script>
/* ================== GOOGLE TRENDS (LEGAL RSS) ================== */
const RSS =
"https://api.rss2json.com/v1/api.json?rss_url=" +
encodeURIComponent(
"https://trends.google.com/trends/trendingsearches/daily/rss?geo=IN"
);

/* ================== KEYWORD EXPANSION ================== */
function expandKeywords(topic){
  return [
    `What is ${topic}`,
    `Why ${topic} matters today`,
    `How ${topic} affects daily life`,
    `Challenges related to ${topic}`,
    `Future of ${topic}`
  ];
}

/* ================== BLOG GENERATOR ================== */
function generateBlog(topic){
  const sections = expandKeywords(topic);
  let html = `
  <h1>${topic}</h1>
  <small>Published on ${new Date().toDateString()}</small>

  <p>This article explores <b>${topic}</b> with a human-first and practical perspective. It is written for clarity, accessibility, and real understanding.</p>
  `;

  sections.forEach(s=>{
    html += `
    <h2>${s}</h2>
    <p>${s} plays an important role in understanding ${topic}. This section explains the concept in a simple and experience-driven way.</p>
    <p>Real-world observation shows that ${topic} impacts how people think, plan, and live their everyday lives.</p>
    `;
  });

  html += `
  <div class="ad">ðŸ”¹ Advertisement Space ðŸ”¹</div>

  <h2>Final Thoughts</h2>
  <p>${topic} is more than a trending phrase. It reflects deeper changes in how society, technology, and individuals evolve together.</p>

  <p>Daily reflection and consistent publishing help build long-term understanding and trust.</p>
  `;

  return html.repeat(2); // ~1000 words
}

/* ================== AUTO PUBLISH LOGIC ================== */
let posts = JSON.parse(localStorage.getItem("posts")) || [];
let lastDate = localStorage.getItem("lastDate");

function autoPublish(topic){
  const today = new Date().toDateString();
  if(lastDate === today) return;

  posts.unshift(generateBlog(topic));
  localStorage.setItem("posts", JSON.stringify(posts));
  localStorage.setItem("lastDate", today);
}

/* ================== LOAD GOOGLE TRENDS ================== */
function loadTrends(){
  document.getElementById("status").innerText =
    "Fetching Google Trends & auto-publishingâ€¦";

  fetch(RSS)
    .then(r=>r.json())
    .then(data=>{
      const topics = data.items
        .map(i=>i.title)
        .filter(t=>t.length>10 && !t.match(/vs|match|movie|score/i));

      if(!topics.length){
        document.getElementById("status").innerText =
          "No suitable trends today.";
        return;
      }

      const topic = topics[Math.floor(Math.random()*topics.length)];
      autoPublish(topic);
      render();
      document.getElementById("status").innerText =
        "Auto-published todayâ€™s blog âœ”ï¸";
    })
    .catch(()=>{
      document.getElementById("status").innerText =
        "Failed to load Google Trends.";
    });
}

/* ================== RENDER POSTS ================== */
function render(){
  const container = document.getElementById("posts");
  container.innerHTML="";
  posts.forEach(p=>{
    container.innerHTML += `<div class="post">${p}</div>`;
  });
}
render();

/* ================== SITEMAP GENERATOR ================== */
function generateSitemap(){
  let urls = posts.map((_,i)=>`
<url>
  <loc>https://yourdomain.com/post-${i}.html</loc>
  <changefreq>daily</changefreq>
  <priority>0.8</priority>
</url>`).join("");

  return `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${urls}
</urlset>`;
}

/* ================== OPTIONAL: LOG SITEMAP ================== */
console.log("SITEMAP.XML â†“â†“â†“");
console.log(generateSitemap());
</script>

</body>
</html>
